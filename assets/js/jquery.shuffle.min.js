window.Modernizr=function(e,t,n){function i(e){y.cssText=e}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var i in e){var r=e[i];if(!o(r,"-")&&y[r]!==n)return"pfx"==t?r:!0}return!1}function s(e,t,i){for(var o in e){var a=t[e[o]];if(a!==n)return i===!1?e[o]:r(a,"function")?a.bind(i||t):a}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+w.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?a(o,t):(o=(e+" "+C.join(i+" ")+i).split(" "),s(o,t,n))}var u,c,d,f="2.6.2",p={},h=!0,m=t.documentElement,g="modernizr",v=t.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),x="Webkit Moz O ms",w=x.split(" "),C=x.toLowerCase().split(" "),T={},k=[],E=k.slice,_=function(e,n,i,r){var o,a,s,l,u=t.createElement("div"),c=t.body,d=c||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=r?r[i]:g+(i+1),u.appendChild(s);return o='&#173;<style id="s'+g+'">'+e+"</style>",u.id=g,(c?u:d).innerHTML+=o,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),a=n(u,e),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),m.style.overflow=l),!!a},S={}.hasOwnProperty;d=r(S,"undefined")||r(S.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return S.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=E.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,a=t.apply(o,n.concat(E.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(E.call(arguments)))};return i}),T.csstransforms=function(){return!!l("transform")},T.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in m.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},T.csstransitions=function(){return l("transition")};for(var N in T)d(T,N)&&(c=N.toLowerCase(),p[c]=T[N](),k.push((p[c]?"":"no-")+c));return p.addTest=function(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,void 0!==h&&h&&(m.className+=" "+(t?"":"no-")+e),p[e]=t}return p},i(""),v=u=null,p._version=f,p._prefixes=b,p._domPrefixes=C,p._cssomPrefixes=w,p.testProp=function(e){return a([e])},p.testAllProps=l,p.testStyles=_,p.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+k.join(" "):""),p}(this,this.document),function(e,t){var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,r,o){function a(){function i(){l=+new Date,r.apply(u,d)}function a(){s=t}var u=this,c=+new Date-l,d=arguments;o&&!s&&i(),s&&clearTimeout(s),o===t&&c>e?i():n!==!0&&(s=setTimeout(o?a:i,o===t?e-c:e))}var s,l=0;return"boolean"!=typeof n&&(o=r,r=n,n=t),i.guid&&(a.guid=r.guid=r.guid||i.guid++),a},i.debounce=function(e,i,r){return r===t?n(e,i,!1):n(e,r,i!==!1)}}(this),/*!
 * jQuery Shuffle Plugin
 * Uses CSS Transforms to filter down a grid of items.
 * Dependencies: jQuery 1.9+, Modernizr 2.6.2. Optionally throttle/debounce by Ben Alman
 * Inspired by Isotope http://isotope.metafizzy.co/
 * Licensed under the MIT license.
 * @author Glen Cheney (http://glencheney.com)
 * @version 2.0
 * @date 07/05/13
 */
!function(e,t,n){"use strict";e.fn.sorted=function(t){var i=e.extend({},e.fn.sorted.defaults,t),r=this.get(),o=!1;return r.length?i.randomize?e.fn.sorted.randomize(r):(i.by!==e.noop&&null!==i.by&&i.by!==n&&r.sort(function(t,r){if(o)return 0;var a=i.by(e(t)),s=i.by(e(r));return a===n&&s===n?(o=!0,0):"sortFirst"===a||"sortLast"===s?-1:"sortLast"===a||"sortFirst"===s?1:s>a?-1:a>s?1:0}),o?this.get():(i.reverse&&r.reverse(),r)):[]},e.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},e.fn.sorted.randomize=function(e){var t,n,i=e.length;if(!i)return e;for(;--i;)n=Math.floor(Math.random()*(i+1)),t=e[n],e[n]=e[i],e[i]=t;return e};var i=0,r=function(t,n){var o=this;e.extend(o,r.options,n,r.settings),o.$container=t,o.$window=e(window),o.unique="shuffle_"+i++,o._fire("loading"),o._init(),o._fire("done")};r.prototype={_init:function(){var t,n=this,i=e.proxy(n._onResize,n),r=n.throttle?n.throttle(n.throttleTime,i):i,o=n.initialSort?n.initialSort:null;n._setVars(),n._resetCols(),n._addClasses(),n._initItems(),n.$window.on("resize.shuffle."+n.unique,r),t=n.$container.css(["paddingLeft","paddingRight","position","width"]),"static"===t.position&&n.$container.css("position","relative"),n.offset={left:parseInt(t.paddingLeft,10)||0,top:parseInt(t.paddingTop,10)||0},n._setColumns(parseInt(t.width,10)),n.shuffle(n.group,o),n.supported&&setTimeout(function(){n._setTransitions(),n.$container[0].style[n.transitionName]="height "+n.speed+"ms "+n.easing},0)},_addClasses:function(){var e=this;return e.$container.addClass("shuffle"),e.$items.addClass("shuffle-item filtered"),e},_setVars:function(){var t=this;return t.$items=t._getItems(),t.transitionName=t.prefixed("transition"),t.transitionDelayName=t.prefixed("transitionDelay"),t.transitionDuration=t.prefixed("transitionDuration"),t.transform=t.getPrefixed("transform"),t.transitionend={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[t.transitionName],t.isFluid=t.columnWidth&&"function"==typeof t.columnWidth,0===t.columnWidth&&null!==t.sizer&&(t.columnWidth=t.sizer),"string"==typeof t.columnWidth?t.$sizer=t.$container.find(t.columnWidth):t.columnWidth&&t.columnWidth.nodeType&&1===t.columnWidth.nodeType?t.$sizer=e(t.columnWidth):t.columnWidth&&t.columnWidth.jquery&&(t.$sizer=t.columnWidth),t.$sizer&&t.$sizer.length&&(t.useSizer=!0,t.sizer=t.$sizer[0]),t},_filter:function(t,i){var r=this,o=i!==n,a=o?i:r.$items,s=e();return t=t||r.lastFilter,r._fire("filter"),e.isFunction(t)?a.each(function(){var n=e(this),i=t.call(n[0],n,r);i&&(s=s.add(n))}):(r.group=t,"all"!==t?a.each(function(){var n=e(this),i=n.data("groups"),o=r.delimeter&&!e.isArray(i)?i.split(r.delimeter):i,a=e.inArray(t,o)>-1;a&&(s=s.add(n))}):s=a),r._toggleFilterClasses(a,s),a=null,i=null,s},_toggleFilterClasses:function(t,n){var i="concealed",r="filtered";t.filter(n).each(function(){var t=e(this);t.hasClass(i)&&t.removeClass(i),t.hasClass(r)||t.addClass(r)}),t.not(n).each(function(){var t=e(this);t.hasClass(i)||t.addClass(i),t.hasClass(r)&&t.removeClass(r)})},_initItems:function(e){return e=e||this.$items,e.css(this.itemCss)},_updateItemCount:function(){return this.visibleItems=this.$items.filter(".filtered").length,this},_setTransition:function(e){var t=this;return e.style[t.transitionName]=t.transform+" "+t.speed+"ms "+t.easing+", opacity "+t.speed+"ms "+t.easing,e},_setTransitions:function(e){var t=this;return e=e||t.$items,e.each(function(){t._setTransition(this)}),t},_setSequentialDelay:function(t){var n=this;n.supported&&e.each(t,function(t){this.style[n.transitionDelayName]="0ms,"+(t+1)*n.sequentialFadeDelay+"ms",e(this).one(n.transitionend,function(){this.style[n.transitionDelayName]="0ms"})})},_getItems:function(){return this.$container.children(this.itemSelector)},_getPreciseDimension:function(t,n){var i;return i=window.getComputedStyle?window.getComputedStyle(t,null)[n]:e(t).css(n),parseFloat(i)},_setColumns:function(e){var t,n=this,i=e||n.$container.width(),r="function"==typeof n.gutterWidth?n.gutterWidth(i):n.useSizer?n._getPreciseDimension(n.sizer,"marginLeft"):n.gutterWidth;n.colWidth=n.isFluid?n.columnWidth(i):n.useSizer?n._getPreciseDimension(n.sizer,"width"):n.columnWidth||n.$items.outerWidth(!0)||i,n.colWidth=n.colWidth||i,n.colWidth+=r,t=(i+r)/n.colWidth,Math.ceil(t)-t<.01&&(t=Math.ceil(t)),n.cols=Math.floor(t),n.cols=Math.max(n.cols,1),n.containerWidth=i},_setContainerSize:function(){var e=this,t=Math.max.apply(Math,e.colYs);e.$container.css("height",t+"px")},_fire:function(e,t){this.$container.trigger(e+".shuffle",t&&t.length?t:[this])},_layout:function(t,n,i,r){var o=this;n=n||o.filterEnd,o.layoutTransitionEnded=!1,e.each(t,function(a){var s=e(t[a]),l=Math.ceil(s.outerWidth(!0)/o.colWidth);if(l=Math.min(l,o.cols),1===l)o._placeItem(s,o.colYs,n,i,r);else{var u,c,d=o.cols+1-l,f=[];for(c=0;d>c;c++)u=o.colYs.slice(c,c+l),f[c]=Math.max.apply(Math,u);o._placeItem(s,f,n,i,r)}}),o._processStyleQueue(),o._setContainerSize()},_resetCols:function(){var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0)},_reLayout:function(e,t){var n=this;e=e||n.filterEnd,n._resetCols(),n.keepSorted&&n.lastSort?n.sort(n.lastSort,!0,t):n._layout(n.$items.filter(".filtered").get(),n.filterEnd,t)},_placeItem:function(e,t,n,i,r){for(var o=this,a=Math.min.apply(Math,t),s=0,l=0,u=t.length;u>l;l++)if(t[l]>=a-o.buffer&&t[l]<=a+o.buffer){s=l;break}var c=o.colWidth*s,d=a;c=Math.round(c+o.offset.left),d=Math.round(d+o.offset.top),e.data({x:c,y:d});var f=a+e.outerHeight(!0),p=o.cols+1-u;for(l=0;p>l;l++)o.colYs[s+l]=f;var h={from:"layout",$this:e,x:c,y:d,scale:1};i?h.skipTransition=!0:(h.opacity=1,h.callback=n),r&&(h.opacity=0),o.styleQueue.push(h)},_shrink:function(t,n){var i=this,r=t||i.$items.filter(".concealed"),o={},a=n||i.shrinkEnd;r.length&&(i._fire("shrink"),i.shrinkTransitionEnded=!1,r.each(function(){var t=e(this),n=t.data();o={from:"shrink",$this:t,x:n.x,y:n.y,scale:.001,opacity:0,callback:a},i.styleQueue.push(o)}))},_onResize:function(){var e,t=this;t.enabled&&!t.destroyed&&(e=t.$container.width(),e!==t.containerWidth&&t.resized())},setPrefixedCss:function(e,t,n){e.css(this.prefixed(t),n)},getPrefixed:function(e){var t=this.prefixed(e);return t?t.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"):t},transition:function(t){var i,r=this,o=function(){r.layoutTransitionEnded||"layout"!==t.from?r.shrinkTransitionEnded||"shrink"!==t.from||(t.callback.call(r),r.shrinkTransitionEnded=!0):(r._fire("layout"),t.callback.call(r),r.layoutTransitionEnded=!0)};if(t.callback=t.callback||e.noop,r.supported)t.scale===n&&(t.scale=1),i=r.threeD?"translate3d("+t.x+"px, "+t.y+"px, 0) scale3d("+t.scale+", "+t.scale+", 1)":"translate("+t.x+"px, "+t.y+"px) scale("+t.scale+", "+t.scale+")",t.x!==n&&r.setPrefixedCss(t.$this,"transform",i),t.opacity!==n&&t.$this.css("opacity",t.opacity),t.$this.one(r.transitionend,o);else{var a={left:t.x,top:t.y,opacity:t.opacity};t.$this.stop(!0).animate(a,r.speed,"swing",o)}},_processStyleQueue:function(){var t=this,n=t.styleQueue;e.each(n,function(e,n){n.skipTransition?t._skipTransition(n.$this[0],function(){t.transition(n)}):t.transition(n)}),t.styleQueue.length=0},shrinkEnd:function(){this._fire("shrunk")},filterEnd:function(){this._fire("filtered")},sortEnd:function(){this._fire("sorted")},_skipTransition:function(t,n,i){var r,o=this,a=o.transitionDuration,s=t.style[a];t.style[a]="0ms",e.isFunction(n)?n():t.style[n]=i,r=t.offsetWidth,t.style[a]=s},_addItems:function(e,t,i){var r,o,a=this;a.supported||(t=!1),e.addClass("shuffle-item"),a._initItems(e),a._setTransitions(e),a.$items=a._getItems(),e.css("opacity",0),r=a._filter(n,e),o=r.get(),a._updateItemCount(),t?(a._layout(o,null,!0,!0),i&&a._setSequentialDelay(r),a._revealAppended(r)):a._layout(o)},_revealAppended:function(t){var n=this;setTimeout(function(){t.each(function(t,i){n.transition({from:"reveal",$this:e(i),opacity:1})})},n.revealAppendedDelay)},shuffle:function(e,t){var n=this;n.enabled&&(e||(e="all"),n._filter(e),n.lastFilter=e,n._updateItemCount(),n._resetCols(),n._shrink(),t&&(n.lastSort=t),n._reLayout())},sort:function(e,t,n){var i=this,r=i.$items.filter(".filtered").sorted(e);t||i._resetCols(),i._layout(r,function(){t&&i.filterEnd(),i.sortEnd()},n),i.lastSort=e},resized:function(e){this.enabled&&(e||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(e){this.resized(e)},appended:function(e,t,n){t=t===!1?!1:!0,n=n===!1?!1:!0,this._addItems(e,t,n)},disable:function(){this.enabled=!1},enable:function(e){this.enabled=!0,e!==!1&&this.update()},remove:function(e){if(e.length&&e.jquery){var t=this;return t._shrink(e,function(){var t=this;e.remove(),setTimeout(function(){t.$items=t._getItems(),t.layout(),t._updateItemCount(),t._fire("removed",[e,t]),e=null},0)}),t._processStyleQueue(),t}},destroy:function(){var e=this;e.$window.off("."+e.unique),e.$container.removeClass("shuffle").removeAttr("style").removeData("shuffle"),e.$items.removeAttr("style").removeClass("concealed filtered shuffle-item"),e.destroyed=!0}},r.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:e.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:t.csstransforms&&t.csstransitions},r.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,keepSorted:!0,enabled:!0,destroyed:!1,styleQueue:[],prefixed:t.prefixed,threeD:t.csstransforms3d},e.fn.shuffle=function(t){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this),o=i.data("shuffle");o||(o=new r(i,t),i.data("shuffle",o)),"string"==typeof t&&o[t]&&o[t].apply(o,n)})}}(jQuery,Modernizr);